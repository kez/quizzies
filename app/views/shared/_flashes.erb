<% 
  flash_classes = {
    'info' => 'bg-blue-100 border-blue-500 text-blue-700',
    'success' => 'bg-green-100 border-green-500 text-green-700',
    'danger' => 'bg-red-100 border-red-500 text-red-700',
    'warning' => 'bg-yellow-100 border-yellow-500 text-yellow-700'
  }
%>

<%- flash.each do |name, msgs| -%>
  <% next if name == "confetti" %>
  <% css_class = flash_classes[name] || 'bg-blue-100 border-blue-500 text-blue-700 ' %>

  <% Array(msgs).each_with_index do |msg, index|%>
  <div class="<%= index.zero? ? css_class : flash_classes['info'] %> btn-hand border-4 p-4 mb-2" role="alert">
    <%= content_tag :p,
                                  msg.humanize,
                                  id: "flash_#{name}" if msg.is_a?(String) %>
  </div>
  
<%- end -%>
<%- end -%>